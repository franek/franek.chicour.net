<!doctype html><html lang=fr dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Post-it : Synology partage d'un scanner sur le réseau | ::franek::</title>
<meta name=keywords content="geek,ds-211,hp,network,PSC-1100,réseau,scanner,synology,ubuntu"><meta name=description content="En branchant son imprimante 2-en-1 (dans mon cas HP PSC-1100 All-in-one) sur un synology (dans mon cas, DS-211+), Il est possible de facilement partager son imprimante sur le réseau.
Le partage du scanner est un peu moins documenté (à moins que votre imprimante all-in-one supporte le protocole MFP). Pour une liste d&rsquo;imprimantes compatibles avec le Synology, vous pouvez référer à la liste disponible sur le site du constructeur."><meta name=author content="franek"><link rel=canonical href=https://franek.chicour.net/post/post-it-synology-partage-d-un-scanner-sur-le-reseau/><meta name=google-site-verification content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://franek.chicour.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://franek.chicour.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://franek.chicour.net/favicon-32x32.png><link rel=apple-touch-icon href=https://franek.chicour.net/apple-touch-icon.png><link rel=mask-icon href=https://franek.chicour.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=fr href=https://franek.chicour.net/post/post-it-synology-partage-d-un-scanner-sur-le-reseau/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://franek.chicour.net/post/post-it-synology-partage-d-un-scanner-sur-le-reseau/"><meta property="og:site_name" content="::franek::"><meta property="og:title" content="Post-it : Synology partage d'un scanner sur le réseau"><meta property="og:description" content="En branchant son imprimante 2-en-1 (dans mon cas HP PSC-1100 All-in-one) sur un synology (dans mon cas, DS-211+), Il est possible de facilement partager son imprimante sur le réseau.
Le partage du scanner est un peu moins documenté (à moins que votre imprimante all-in-one supporte le protocole MFP). Pour une liste d’imprimantes compatibles avec le Synology, vous pouvez référer à la liste disponible sur le site du constructeur."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2011-09-20T14:48:00+02:00"><meta property="article:modified_time" content="2011-09-24T13:11:16+02:00"><meta property="article:tag" content="Geek"><meta property="article:tag" content="Ds-211"><meta property="article:tag" content="Hp"><meta property="article:tag" content="Network"><meta property="article:tag" content="PSC-1100"><meta property="article:tag" content="Réseau"><meta name=twitter:card content="summary"><meta name=twitter:title content="Post-it : Synology partage d'un scanner sur le réseau"><meta name=twitter:description content="En branchant son imprimante 2-en-1 (dans mon cas HP PSC-1100 All-in-one) sur un synology (dans mon cas, DS-211+), Il est possible de facilement partager son imprimante sur le réseau.
Le partage du scanner est un peu moins documenté (à moins que votre imprimante all-in-one supporte le protocole MFP). Pour une liste d&rsquo;imprimantes compatibles avec le Synology, vous pouvez référer à la liste disponible sur le site du constructeur."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://franek.chicour.net/post/"},{"@type":"ListItem","position":2,"name":"Post-it : Synology partage d'un scanner sur le réseau","item":"https://franek.chicour.net/post/post-it-synology-partage-d-un-scanner-sur-le-reseau/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Post-it : Synology partage d'un scanner sur le réseau","name":"Post-it : Synology partage d\u0027un scanner sur le réseau","description":"En branchant son imprimante 2-en-1 (dans mon cas HP PSC-1100 All-in-one) sur un synology (dans mon cas, DS-211+), Il est possible de facilement partager son imprimante sur le réseau.\nLe partage du scanner est un peu moins documenté (à moins que votre imprimante all-in-one supporte le protocole MFP). Pour une liste d\u0026rsquo;imprimantes compatibles avec le Synology, vous pouvez référer à la liste disponible sur le site du constructeur.\n","keywords":["geek","ds-211","hp","network","PSC-1100","réseau","scanner","synology","ubuntu"],"articleBody":"En branchant son imprimante 2-en-1 (dans mon cas HP PSC-1100 All-in-one) sur un synology (dans mon cas, DS-211+), Il est possible de facilement partager son imprimante sur le réseau.\nLe partage du scanner est un peu moins documenté (à moins que votre imprimante all-in-one supporte le protocole MFP). Pour une liste d’imprimantes compatibles avec le Synology, vous pouvez référer à la liste disponible sur le site du constructeur.\nDans notre cas, nous allons devoir bidouiller (“Hackability is fun !”…)\nLes tutoriaux suivants sont une bonne base :\npartage d’un scanner sur le réseau sur ubuntu.com Attaching a scanner to my Synology Diskstation 107 On va utiliser sane pour partager le scanner. Par défaut, sane ne dispose pas des drivers HP. Il va donc falloir les installer et lui dire qu’ils ont été installés !\n1- Installer, de mémoire, les paquets suivants via ipkg :\n$ ipkg install hplip libusb libieee1284 sane-backends xinetd 2- L’astuce dans mon cas est d’ajouter le support des drivers HP à sane :\nsudo echo \"hpaio\" \u003e\u003e /opt/etc/sane.d/dll.conf sudo echo \"hpaio\" \u003e /opt/etc/sane.d/dll.d/hplip 3- On vérifie que le scanner est bien reconnu :\nsane-find-scanner Cela doit retourner quelque chose comme :\nfound USB scanner (vendor=0x03f0 [Hewlett-Packard], product=0x3011 [psc 1100 series]) at libusb:001:003 Si le scanner n’a pas été reconnu, passer votre chemin.\n4- Si le scanner a été reconnu, on va vérifier la compatibilité avec sane :\nscanimage -L Cette ligne doit retourner quelque chose comme :\ndevice `hpaio:/usb/psc_1100_series?serial=MY369160GQB0' is a Hewlett-Packard psc_1100_series all-in-one Si elle ne retourne pas ce type d’information, vérifier la configuration de sane et notamment les fichiers dll.conf et hplip.\nVotre scanner devrait fonctionner sur le réseau. Pour qu’il fonctionne sur le réseau, il faut s’assurer de 2-3 petites choses.\nVérifier que dans le fichier /opt/etc/xinetd.conf votre sous-réseau est bien présent :\nonly_from = localhost 10.0.0.0/8 172.16.0.0/12 192.168.0.0/16 ainsi que dans le fichier /opt/etc/sane.d/saned.conf :\n192.168.0.0/16 Configurer sane\nvi /opt/etc/xinetd.d/sane-port Ajouter :\nservice sane-port { port = 6566 socket_type = stream wait = no user = root group = root server = /opt/sbin/saned } Vérifier que le fichier /etc/services contient bien :\nsane-port 6566/tcp # SANE network scanner daemon Vous pouvez ensuite démarrer sane :\n/opt/etc/init.d/S10xinetd Sur le poste client, une seule modification :\nsudo vi /etc/sane.d/net.conf Remplacer # localhost par l’ip de votre serveur.\nDepuis votre poste client, scanimage -L devrait renvoyer quelque chose comme :\ndevice `net::hpaio:/usb/psc_1100_series?serial=MY369160GQB0' is a Hewlett-Packard psc_1100_series all-in-one Voilà, ce sont quelques notes rapides qui seront peut-être utiles à d’autres.\nEDITBon, parfois, le scanner n’est pas accessible depuis le client. J’ai résolu ce problème en supprimant le fichier de PID de dbus et en relançant le process dbus :\n$ rm /opt/var/run/dbus/pid $ /opt/etc/init.d/S20dbus start (source : http://forum.synology.com/enu/viewtopic.php?f=27\u0026amp;t=14801)\n","wordCount":"453","inLanguage":"fr","datePublished":"2011-09-20T14:48:00+02:00","dateModified":"2011-09-24T13:11:16+02:00","author":[{"@type":"Person","name":"franek"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://franek.chicour.net/post/post-it-synology-partage-d-un-scanner-sur-le-reseau/"},"publisher":{"@type":"Organization","name":"::franek::","logo":{"@type":"ImageObject","url":"https://franek.chicour.net/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://franek.chicour.net/ accesskey=h title="::franek:: (Alt + H)"><img src=https://franek.chicour.net/public/logo-franek.png alt aria-label=logo height=35>::franek::</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://franek.chicour.net/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://franek.chicour.net/archive/ title=Archives><span>Archives</span></a></li><li><a href=https://franek.chicour.net/search/ title="Recherche (Alt + /)" accesskey=/><span>Recherche</span></a></li><li><a href=https://franek.chicour.net/feed/rss2 title=RSS><span>RSS</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Post-it : Synology partage d'un scanner sur le réseau</h1><div class=post-meta><span title='2011-09-20 14:48:00 +0200 +0200'>septembre 20, 2011</span>&nbsp;·&nbsp;franek</div></header><div class=post-content><p>En branchant son imprimante 2-en-1 (dans mon cas HP PSC-1100 All-in-one) sur un synology (dans mon cas, DS-211+), Il est possible de facilement partager son imprimante sur le réseau.</p><p>Le partage du scanner est un peu moins documenté (à moins que votre imprimante all-in-one supporte le protocole MFP). Pour une liste d&rsquo;imprimantes compatibles avec le Synology, vous pouvez référer à la <a href=http://forum.synology.com/wiki/index.php/User_Reported_Compatible_USB_Printers title="Imprimante compatible avec Synology">liste disponible sur le site du constructeur</a>.</p><p>Dans notre cas, nous allons devoir bidouiller (&ldquo;Hackability is fun !&rdquo;&mldr;)</p><p>Les tutoriaux suivants sont une bonne base :</p><ul><li><a href=https://help.ubuntu.com/community/ScanningHowTo>partage d&rsquo;un scanner sur le réseau sur ubuntu.com</a></li><li><a href="http://arnoutboer.nl/weblog/?p=223">Attaching a scanner to my Synology Diskstation 107</a></li></ul><p>On va utiliser sane pour partager le scanner. Par défaut, sane ne dispose pas des drivers HP. Il va donc falloir les installer et lui dire qu&rsquo;ils ont été installés !</p><p>1- Installer, de mémoire, les paquets suivants via ipkg :</p><pre tabindex=0><code>
$ ipkg install hplip libusb libieee1284 sane-backends xinetd
</code></pre><p>2- L&rsquo;astuce dans mon cas est d&rsquo;ajouter le support des drivers HP à sane :</p><pre tabindex=0><code>
sudo echo &#34;hpaio&#34; &gt;&gt; /opt/etc/sane.d/dll.conf
sudo echo &#34;hpaio&#34; &gt; /opt/etc/sane.d/dll.d/hplip
</code></pre><p>3- On vérifie que le scanner est bien reconnu :</p><pre tabindex=0><code>
sane-find-scanner
</code></pre><p>Cela doit retourner quelque chose comme :</p><pre tabindex=0><code>
found USB scanner (vendor=0x03f0 [Hewlett-Packard], product=0x3011 [psc 1100 series]) at libusb:001:003
</code></pre><p>Si le scanner n&rsquo;a pas été reconnu, passer votre chemin.</p><p>4- Si le scanner a été reconnu, on va vérifier la compatibilité avec sane :</p><pre tabindex=0><code>
scanimage -L
</code></pre><p>Cette ligne doit retourner quelque chose comme :</p><pre tabindex=0><code>
device `hpaio:/usb/psc_1100_series?serial=MY369160GQB0&#39; is a Hewlett-Packard psc_1100_series all-in-one
</code></pre><p>Si elle ne retourne pas ce type d&rsquo;information, vérifier la configuration de sane et notamment les fichiers dll.conf et hplip.</p><p>Votre scanner devrait fonctionner sur le réseau. Pour qu&rsquo;il fonctionne sur le réseau, il faut s&rsquo;assurer de 2-3 petites choses.</p><p>Vérifier que dans le fichier /opt/etc/xinetd.conf votre sous-réseau est bien présent :</p><pre tabindex=0><code>
    only_from = localhost 10.0.0.0/8 172.16.0.0/12 192.168.0.0/16
</code></pre><p>ainsi que dans le fichier /opt/etc/sane.d/saned.conf :</p><pre tabindex=0><code>
192.168.0.0/16
</code></pre><p>Configurer sane</p><pre tabindex=0><code>
vi /opt/etc/xinetd.d/sane-port
</code></pre><p>Ajouter :</p><pre tabindex=0><code>
service sane-port
{
    port = 6566
    socket_type = stream
    wait = no
    user = root
    group = root
    server = /opt/sbin/saned
}
</code></pre><p>Vérifier que le fichier /etc/services contient bien :</p><pre tabindex=0><code>
  sane-port         6566/tcp        # SANE network scanner daemon
</code></pre><p>Vous pouvez ensuite démarrer sane :</p><pre tabindex=0><code>
/opt/etc/init.d/S10xinetd
</code></pre><p>Sur le poste client, une seule modification :</p><pre tabindex=0><code>
sudo vi /etc/sane.d/net.conf
</code></pre><p>Remplacer <strong># localhost</strong> par l&rsquo;<strong>ip de votre serveur</strong>.</p><p>Depuis votre poste client, scanimage -L devrait renvoyer quelque chose comme :</p><pre tabindex=0><code>
device `net:&lt;votre ip&gt;:hpaio:/usb/psc_1100_series?serial=MY369160GQB0&#39; is a Hewlett-Packard psc_1100_series all-in-one
</code></pre><p>Voilà, ce sont quelques notes rapides qui seront peut-être utiles à d&rsquo;autres.</p><p><a href=https://franek.chicour.net/post/2011/09/20/EDIT title=EDIT>EDIT</a>Bon, parfois, le scanner n&rsquo;est pas accessible depuis le client. J&rsquo;ai résolu ce problème en supprimant le fichier de PID de dbus et en relançant le process dbus :</p><pre tabindex=0><code>
$ rm /opt/var/run/dbus/pid
$ /opt/etc/init.d/S20dbus start
</code></pre><p>(source : <a href="http://forum.synology.com/enu/viewtopic.php?f=27&amp;amp;t=14801">http://forum.synology.com/enu/viewtopic.php?f=27&amp;amp;t=14801</a>)</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://franek.chicour.net/tags/geek/>Geek</a></li><li><a href=https://franek.chicour.net/tags/ds-211/>Ds-211</a></li><li><a href=https://franek.chicour.net/tags/hp/>Hp</a></li><li><a href=https://franek.chicour.net/tags/network/>Network</a></li><li><a href=https://franek.chicour.net/tags/psc-1100/>PSC-1100</a></li><li><a href=https://franek.chicour.net/tags/r%C3%A9seau/>Réseau</a></li><li><a href=https://franek.chicour.net/tags/scanner/>Scanner</a></li><li><a href=https://franek.chicour.net/tags/synology/>Synology</a></li><li><a href=https://franek.chicour.net/tags/ubuntu/>Ubuntu</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://franek.chicour.net/>::franek::</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>