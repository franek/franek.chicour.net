<!doctype html><html lang=fr dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>KeepAlive On et SSL avec Internet Explorer | ::franek::</title><meta name=keywords content="développement web,apache,keepalive,ssl,webperf"><meta name=description content="Une des bonnes pratiques de performance web est d&rsquo;activer KeepAlive sur un serveur Apache.
Sur une de mes applications, le KeepAlive n&rsquo;était pas activé pour IE et je ne comprenais pas pourquoi.
Après investigation, cela venait de la configuration par défaut de Apache dans mon Virtual Host sur le port 443 qui contenait les directives suivantes :
 SetEnvIf User-Agent &#34;.*MSIE.*&#34; \ nokeepalive ssl-unclean-shutdown \ downgrade-1.0 force-response-1.0 Cette directive indique à Apache de désactiver le KeepAlive pour Internet Explorer (Toute version confondue)."><meta name=author content="franek"><link rel=canonical href=https://franek.chicour.net/post/keepalive-on-et-ssl-avec-internet-explorer/><meta name=google-site-verification content="XYZabc"><link href=https://franek.chicour.net/assets/css/stylesheet.min.b6e4fb9d9486ee9750cbbe1b4e388ff4332a2d1e0d17ab3592ecb6c6f7ba1157.css integrity="sha256-tuT7nZSG7pdQy74bTjiP9DMqLR4NF6s1kuy2xve6EVc=" rel="preload stylesheet" as=style><link rel=icon href=https://franek.chicour.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://franek.chicour.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://franek.chicour.net/favicon-32x32.png><link rel=apple-touch-icon href=https://franek.chicour.net/apple-touch-icon.png><link rel=mask-icon href=https://franek.chicour.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.74.3"><meta property="og:title" content="KeepAlive On et SSL avec Internet Explorer"><meta property="og:description" content="Une des bonnes pratiques de performance web est d&rsquo;activer KeepAlive sur un serveur Apache.
Sur une de mes applications, le KeepAlive n&rsquo;était pas activé pour IE et je ne comprenais pas pourquoi.
Après investigation, cela venait de la configuration par défaut de Apache dans mon Virtual Host sur le port 443 qui contenait les directives suivantes :
 SetEnvIf User-Agent &#34;.*MSIE.*&#34; \ nokeepalive ssl-unclean-shutdown \ downgrade-1.0 force-response-1.0 Cette directive indique à Apache de désactiver le KeepAlive pour Internet Explorer (Toute version confondue)."><meta property="og:type" content="article"><meta property="og:url" content="https://franek.chicour.net/post/keepalive-on-et-ssl-avec-internet-explorer/"><meta property="og:image" content="https://franek.chicour.net/60"><meta property="article:published_time" content="2011-04-29T15:26:00+02:00"><meta property="article:modified_time" content="2011-10-23T17:00:15+02:00"><meta property="og:site_name" content="::franek::"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://franek.chicour.net/60"><meta name=twitter:title content="KeepAlive On et SSL avec Internet Explorer"><meta name=twitter:description content="Une des bonnes pratiques de performance web est d&rsquo;activer KeepAlive sur un serveur Apache.
Sur une de mes applications, le KeepAlive n&rsquo;était pas activé pour IE et je ne comprenais pas pourquoi.
Après investigation, cela venait de la configuration par défaut de Apache dans mon Virtual Host sur le port 443 qui contenait les directives suivantes :
 SetEnvIf User-Agent &#34;.*MSIE.*&#34; \ nokeepalive ssl-unclean-shutdown \ downgrade-1.0 force-response-1.0 Cette directive indique à Apache de désactiver le KeepAlive pour Internet Explorer (Toute version confondue)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"KeepAlive On et SSL avec Internet Explorer","name":"KeepAlive On et SSL avec Internet Explorer","description":"Une des bonnes pratiques de performance web est d\u0026amp;rsquo;activer KeepAlive sur un serveur Apache.\nSur une de mes applications, le KeepAlive n\u0026amp;rsquo;était pas activé pour IE et je ne …","keywords":["développement web","apache","keepalive","ssl","webperf"],"articleBody":"Une des bonnes pratiques de performance web est d’activer KeepAlive sur un serveur Apache.\nSur une de mes applications, le KeepAlive n’était pas activé pour IE et je ne comprenais pas pourquoi.\nAprès investigation, cela venait de la configuration par défaut de Apache dans mon Virtual Host sur le port 443 qui contenait les directives suivantes :\n SetEnvIf User-Agent \".*MSIE.*\" \\ nokeepalive ssl-unclean-shutdown \\ downgrade-1.0 force-response-1.0 Cette directive indique à Apache de désactiver le KeepAlive pour Internet Explorer (Toute version confondue). C’est dû à un bug de IE de gestion du protocole SSL. Ce bug n’est présent que sur les versions de Internet Explorer inférieures ou égales à 6.\nDans mon cas, on peut remplacer la directive Apache par :\n BrowserMatch \".*MSIE [2-5]\\..*\" \\ nokeepalive ssl-unclean-shutdown \\ downgrade-1.0 force-response-1.0 Source : http://blogs.msdn.com/b/ieinternals/archive/2011/03/26/https-and-connection-close-is-your-apache-modssl-server-configuration-set-to-slow.aspx\n","wordCount":"132","inLanguage":"fr","datePublished":"2011-04-29T15:26:00+02:00","dateModified":"2011-10-23T17:00:15+02:00","author":[{"@type":"Person","name":"franek"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://franek.chicour.net/post/keepalive-on-et-ssl-avec-internet-explorer/"},"publisher":{"@type":"Organization","name":"::franek::","logo":{"@type":"ImageObject","url":"https://franek.chicour.net/favicon.ico"}}}</script></head><body id=top><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://franek.chicour.net accesskey=h title="::franek:: (Alt + H)"><img src=/public/logo-franek.png alt=logo aria-label=logo height=35>::franek::</a>
<span class=logo-switches></span></div><ul class=menu id=menu onscroll=menu_on_scroll()><li><a href=https://franek.chicour.net/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://franek.chicour.net/archive/ title=Archives><span>Archives</span></a></li><li><a href=https://franek.chicour.net/search/ title="Recherche (Alt + /)" accesskey=/><span>Recherche</span></a></li><li><a href=https://franek.chicour.net/feed/rss2 title=RSS><span>RSS</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>KeepAlive On et SSL avec Internet Explorer</h1><div class=post-meta>April 29, 2011&nbsp;·&nbsp;franek</div></header><div class=post-content><p>Une des bonnes pratiques de performance web est d&rsquo;activer KeepAlive sur un serveur Apache.</p><p>Sur une de mes applications, le KeepAlive n&rsquo;était pas activé pour IE et je ne comprenais pas pourquoi.</p><p>Après investigation, cela venait de la configuration par défaut de Apache dans mon Virtual Host sur le port 443 qui contenait les directives suivantes :</p><pre><code>
 SetEnvIf User-Agent &quot;.*MSIE.*&quot; \
            nokeepalive ssl-unclean-shutdown \
            downgrade-1.0 force-response-1.0
</code></pre><p>Cette directive indique à Apache de désactiver le KeepAlive pour Internet Explorer (Toute version confondue). C&rsquo;est dû à un bug de IE de gestion du protocole SSL. Ce bug n&rsquo;est présent que sur les versions de Internet Explorer inférieures ou égales à 6.</p><p>Dans mon cas, on peut remplacer la directive Apache par :</p><pre><code>
BrowserMatch &quot;.*MSIE [2-5]\..*&quot; \
	nokeepalive ssl-unclean-shutdown \
	downgrade-1.0 force-response-1.0
</code></pre><p>Source : <a href=http://blogs.msdn.com/b/ieinternals/archive/2011/03/26/https-and-connection-close-is-your-apache-modssl-server-configuration-set-to-slow.aspx title="Blogs MSDN HTTPS & KeepAlive">http://blogs.msdn.com/b/ieinternals/archive/2011/03/26/https-and-connection-close-is-your-apache-modssl-server-configuration-set-to-slow.aspx</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://franek.chicour.net/tags/d%C3%A9veloppement-web/>développement web</a></li><li><a href=https://franek.chicour.net/tags/apache/>apache</a></li><li><a href=https://franek.chicour.net/tags/keepalive/>keepalive</a></li><li><a href=https://franek.chicour.net/tags/ssl/>ssl</a></li><li><a href=https://franek.chicour.net/tags/webperf/>webperf</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://franek.chicour.net>::franek::</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=https://franek.chicour.net/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});if(id==="top"){history.replaceState(null,null," ");}else{history.replaceState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script></body></html>